let amRoutes = {
  BSH10A: [
    {
      id: "cd3e046d-3037-4b26-af84-0b5d0c746a12",
      createdAt: "2024-04-29T07:59:17.541Z",
      updatedAt: "2024-04-29T07:59:17.541Z",
      lat: "40.0878117",
      lng: "-74.1816913",
      formattedAddress: "Ocean Ave &, & Natures Way, Lakewood, NJ 08701, USA",
      address: "Ocean Ave@NATURES WAY@BOULDER WAY",
      city: "Lakewood",
      state: "NJ",
      zip: "08701",
      coordinateID: null,
      isIntersection: true,
      isValidated: true,
      time: "7:56 AM",
      routeName: "BSH10A",
    },

    {
      id: "6a6fbd84-d0b8-45e6-adac-f7d50db5c867",
      createdAt: "2024-04-29T07:55:43.315Z",
      updatedAt: "2024-04-29T07:55:43.315Z",
      lat: "40.0924437",
      lng: "-74.1958943",
      formattedAddress: "& Linden Avenue, Lakewood, NJ 08701, USA",
      address: "Linden Ave@Stirling Ave",
      city: "Lakewood",
      state: "NJ",
      zip: "08701",
      coordinateID: null,
      isIntersection: true,
      isValidated: true,
      time: "7:56 AM",
      // time: "7:59 AM",
      routeName: "BSH10A",
    },
    {
      id: "cd3e046d-3037-4b26-af84-0b5d0c746a12",
      createdAt: "2024-04-29T07:59:17.541Z",
      updatedAt: "2024-04-29T07:59:17.541Z",
      lat: "40.0878117",
      lng: "-74.1816913",
      formattedAddress: "Ocean Ave &, & Natures Way, Lakewood, NJ 08701, USA",
      address: "Ocean Ave@NATURES WAY@BOULDER WAY",
      city: "Lakewood",
      state: "NJ",
      zip: "08701",
      coordinateID: null,
      isIntersection: true,
      isValidated: true,
      time: "7:56 AM",
      routeName: "BSH10A",
    },
    {
      id: "ffd3d2f6-d19a-4230-89bf-1dceec178cbd",
      createdAt: "2024-04-29T08:00:42.415Z",
      updatedAt: "2024-04-29T08:00:42.415Z",
      lat: "40.096693",
      lng: "-74.198919",
      formattedAddress: "& Ridge Avenue, Lakewood, NJ 08701, USA",
      address: "Ridge Ave@New York Ave",
      city: "Lakewood",
      state: "NJ",
      zip: "08701",
      coordinateID: null,
      isIntersection: true,
      isValidated: true,
      // time: "8:02 AM",
      time: "7:56 AM",
      routeName: "BSH10A",
      timeConflict: true,
    },
    {
      id: "6a6fbd84-d0b8-45e6-adac-f7d50db5c867",
      createdAt: "2024-04-29T07:55:43.315Z",
      updatedAt: "2024-04-29T07:55:43.315Z",
      lat: "40.0924437",
      lng: "-74.1958943",
      formattedAddress: "& Linden Avenue, Lakewood, NJ 08701, USA",
      address: "Linden Ave@Stirling Ave",
      city: "Lakewood",
      state: "NJ",
      zip: "08701",
      coordinateID: null,
      isIntersection: true,
      isValidated: true,
      time: "7:59 AM",
      routeName: "BSH10A",
    },
  ],

  BB3A: [
    {
      id: "e9ed58c0-922a-434b-a9a0-fb467b8b6e22",
      createdAt: "2024-04-29T07:55:44.266Z",
      updatedAt: "2024-04-29T07:55:44.266Z",
      lat: "40.1147825",
      lng: "-74.2544899",
      formattedAddress: "& Pawnee Road, Lakewood, NJ 08701, USA",
      address: "Pawnee Rd@Mohawk Pl",
      city: "Lakewood",
      state: "NJ",
      zip: "08701",
      coordinateID: null,
      isIntersection: true,
      isValidated: true,
      // time: "8:30 AM",
      time: "7:56 AM",
      routeName: "BB3A",
    },
    {
      id: "e9ed58c0-922a-434b-a9a0-fb467b8b6e22",
      createdAt: "2024-04-29T07:55:44.266Z",
      updatedAt: "2024-04-29T07:55:44.266Z",
      lat: "40.1147825",
      lng: "-74.2544899",
      formattedAddress: "& Pawnee Road, Lakewood, NJ 08701, USA",
      address: "Pawnee Rd@Mohawk Pl",
      city: "Lakewood",
      state: "NJ",
      zip: "08701",
      coordinateID: null,
      isIntersection: true,
      isValidated: true,
      time: "8:30 AM",
      routeName: "BB3A",
    },
    {
      id: "e9ed58c0-922a-434b-a9a0-fb467b8b6e22",
      createdAt: "2024-04-29T07:55:44.266Z",
      updatedAt: "2024-04-29T07:55:44.266Z",
      lat: "40.1147825",
      lng: "-74.2544899",
      formattedAddress: "& Pawnee Road, Lakewood, NJ 08701, USA",
      address: "Pawnee Rd@Mohawk Pl",
      city: "Lakewood",
      state: "NJ",
      zip: "08701",
      coordinateID: null,
      isIntersection: true,
      isValidated: true,
      time: "8:30 AM",
      routeName: "BB3A",
    },
    {
      id: "6439be53-806b-4d3b-9760-7f1a00b2aa68",
      createdAt: "2024-04-29T08:00:57.079Z",
      updatedAt: "2024-04-29T08:00:57.079Z",
      lat: "40.1052713",
      lng: "-74.2278538",
      formattedAddress: "& Laurelwood Avenue, Lakewood, NJ 08701, USA",
      address: "Laurelwood Ave@Tuxedo Ter",
      city: "Lakewood",
      state: "NJ",
      zip: "08701",
      coordinateID: null,
      isIntersection: true,
      isValidated: true,
      // time: "8:43 AM",
      time: "7:59 AM",
      routeName: "BB3A",
    },
  ],
};

function CheckRoutes(Routes) {
  for (let key in Routes) {
    let routeKey = Routes[key];
    let uniqueEntries = {};
    let filteredRoute = [];

    routeKey.forEach((item) => {
      let key = `${item.time} - ${item.address}`;
      if (!uniqueEntries[key]) {
        uniqueEntries[key] = true;
        filteredRoute.push(item);
      }
    });
    Routes[key] = filteredRoute;
  }
  addField_reviewRequired(Routes);
}

function addField_reviewRequired(Routes) {
  for (let key in Routes) {
    let routeKey = Routes[key];
    routeKey.forEach((item, index) => {
      routeKey[index].reviewRequired = false;
      for (let j = 0; j < routeKey.length; j++) {
        if (
          index !== j &&
          item.time === routeKey[j].time &&
          item.address !== routeKey[j].address
        ) {
          item.reviewRequired = true;
          break;
        }
      }
    });
  }
  adding_reviewRequiredFieldAcrossRoutes(Routes);
}


function adding_reviewRequiredFieldAcrossRoutes(Routes){
  const routeKeys = Object.keys(Routes);

  for(let i = 0; i< routeKeys.length; i++){
    const route1 = Routes[routeKeys[i]];
    for(let j = i + 1; j < routeKeys.length; j++){
      const route2 = Routes[routeKeys[j]];

      route1.forEach(item1 => {
        route2.forEach(item2 =>{
          if(item1.time === item2.time && item1.address !== item2.address){
            item1.reviewRequired = true;
            item2.reviewRequired = true;
          }
        })
      })
    }
  }
  console.log(Routes);
}

CheckRoutes(amRoutes);
